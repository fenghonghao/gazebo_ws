<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/bsb/桌面/gazebo_ws/src/racecar_description/urdf/racecar.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="racecar">
  <!-- transmission macros -->
  <!-- <xacro:macro name="wheel_transmission" params="name">
  <transmission name="${name}_transmission" type="SimpleTransmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="${name}_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="${name}_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
</xacro:macro>

<xacro:macro name="steering_hinge_transmission" params="name">
  <transmission name="${name}_transmission" type="SimpleTransmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="${name}_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="${name}_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
</xacro:macro> -->
  <!-- motors and transmissions for the two rear wheels -->
  <transmission name="tran1">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="right_rear_wheel_joint">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor1">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tran2">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="left_rear_wheel_joint">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor2">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- EPS and transmissions for the front steering -->
  <transmission name="tran3">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="right_steering_hinge_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="eps_right">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tran4">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="left_steering_hinge_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="eps_left">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <link name="base_footprint">
    </link>
  <link name="base_link">
    <visual>
      <geometry>
        <box size="2.8 1.0 0.3"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="yellow">
        <color rgba="0.8 0.3 0.1 0.5"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <box size="2.8 1.0 0.3"/>
      </geometry>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="4"/>
      <inertia ixx="264" ixy="0" ixz="0" iyy="294" iyz="0" izz="36.4"/>
    </inertial>
  </link>
  <joint name="base_link2base_footprint" type="fixed">
    <parent link="base_footprint"/>
    <child link="base_link"/>
    <origin xyz="0 0 0.32"/>
  </joint>
  <link name="left_steering_hinge">
    <visual>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
        <!-- <sphere radius="0.015" /> -->
      </geometry>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <material name="black">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
        <!-- <sphere radius="0.015" /> -->
      </geometry>
      <origin rpy="1.57 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="1"/>
      <inertia ixx="2.7E-02" ixy="0" ixz="0" iyy="2.7E-02" iyz="0" izz="5E-02"/>
    </inertial>
  </link>
  <joint name="left_steering_hinge_joint" type="revolute">
    <parent link="base_link"/>
    <child link="left_steering_hinge"/>
    <origin xyz="1.3 0.65 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="5" lower="-0.6" upper="0.6" velocity="100.0"/>
  </joint>
  <link name="left_front_wheel">
    <visual>
      <geometry>
        <cylinder length="0.2" radius="0.33"/>
      </geometry>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <material name="black">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.2" radius="0.32"/>
      </geometry>
      <origin rpy="1.57 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="2"/>
      <inertia ixx="6.64E-01" ixy="0" ixz="0" iyy="6.64E-01" iyz="0" izz="1.02E+00"/>
    </inertial>
  </link>
  <joint name="left_front_wheel_joint" type="continuous">
    <parent link="left_steering_hinge"/>
    <child link="left_front_wheel"/>
    <origin xyz="0 0.25 0"/>
    <axis xyz="0 1 0"/>
    <limit effort="10" velocity="1000"/>
  </joint>
  <link name="right_steering_hinge">
    <visual>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <material name="black">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
      <origin rpy="1.57 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="1"/>
      <inertia ixx="2.7E-02" ixy="0" ixz="0" iyy="2.7E-02" iyz="0" izz="5E-02"/>
    </inertial>
  </link>
  <joint name="right_steering_hinge_joint" type="revolute">
    <parent link="base_link"/>
    <child link="right_steering_hinge"/>
    <origin xyz="1.3 -0.65 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="5" lower="-0.6" upper="0.6" velocity="100.0"/>
  </joint>
  <link name="right_front_wheel">
    <visual>
      <geometry>
        <cylinder length="0.2" radius="0.33"/>
      </geometry>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <material name="black">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.2" radius="0.32"/>
      </geometry>
      <origin rpy="1.57 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="2"/>
      <inertia ixx="6.64E-01" ixy="0" ixz="0" iyy="6.64E-01" iyz="0" izz="1.02E+00"/>
    </inertial>
  </link>
  <joint name="right_front_wheel_joint" type="continuous">
    <parent link="right_steering_hinge"/>
    <child link="right_front_wheel"/>
    <origin xyz="0 -0.25 0"/>
    <axis xyz="0 1 0"/>
    <limit effort="10" velocity="1000"/>
  </joint>
  <link name="left_rear_wheel">
    <visual>
      <geometry>
        <cylinder length="0.2" radius="0.32"/>
      </geometry>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <material name="black">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.2" radius="0.32"/>
      </geometry>
      <origin rpy="1.57 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="2"/>
      <inertia ixx="6.64E-01" ixy="0" ixz="0" iyy="6.64E-01" iyz="0" izz="1.02E+00"/>
    </inertial>
  </link>
  <joint name="left_rear_wheel_joint" type="continuous">
    <parent link="base_link"/>
    <child link="left_rear_wheel"/>
    <origin xyz="-1.3 0.9 0"/>
    <axis xyz="0 1 0"/>
    <limit effort="10" velocity="1000"/>
  </joint>
  <link name="right_rear_wheel">
    <visual>
      <geometry>
        <cylinder length="0.2" radius="0.32"/>
      </geometry>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <material name="black">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.2" radius="0.32"/>
      </geometry>
      <origin rpy="1.57 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="2"/>
      <inertia ixx="6.64E-01" ixy="0" ixz="0" iyy="6.64E-01" iyz="0" izz="1.02E+00"/>
    </inertial>
  </link>
  <joint name="right_rear_wheel_joint" type="continuous">
    <parent link="base_link"/>
    <child link="right_rear_wheel"/>
    <origin xyz="-1.3 -0.9 0"/>
    <axis xyz="0 1 0"/>
    <limit effort="10" velocity="1000"/>
  </joint>
  <!-- Gazebo references -->
  <gazebo reference="base_link">
    <mu1 value="1.0"/>
    <mu2 value="1.0"/>
    <kp value="100000.0"/>
    <kd value="5.0"/>
    <material>Gazebo/Red</material>
  </gazebo>
  <gazebo reference="left_rear_wheel">
    <mu1 value="1.0"/>
    <mu2 value="1.0"/>
    <kp value="100000.0"/>
    <kd value="5.0"/>
    <fdir1 value="1 0 0"/>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="right_rear_wheel">
    <mu1 value="1.0"/>
    <mu2 value="1.0"/>
    <kp value="100000.0"/>
    <kd value="5.0"/>
    <fdir1 value="1 0 0"/>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="left_front_wheel">
    <mu1 value="1.0"/>
    <mu2 value="1.0"/>
    <kp value="100000.0"/>
    <kd value="5.0"/>
    <fdir1 value="0 0 1"/>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="right_front_wheel">
    <mu1 value="1.0"/>
    <mu2 value="1.0"/>
    <kp value="100000.0"/>
    <kd value="5.0"/>
    <fdir1 value="0 0 1"/>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="left_steering_hinge">
    <mu1 value="1.0"/>
    <mu2 value="1.0"/>
    <kp value="100000.0"/>
    <kd value="5.0"/>
    <fdir1 value="1 0 0"/>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="right_steering_hinge">
    <mu1 value="1.0"/>
    <mu2 value="1.0"/>
    <kp value="100000.0"/>
    <kd value="5.0"/>
    <fdir1 value="1 0 0"/>
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- Gazebo plugins -->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <robotNamespace>/racecar</robotNamespace>
      <robotParam>robot_description</robotParam>
      <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
    </plugin>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_joint_state_publisher.so" name="joint_state_publisher">
      <jointName>
        right_rear_wheel_joint, 
        left_rear_wheel_joint, 
        right_front_wheel_joint, 
        right_steering_hinge_joint, 
        left_front_wheel_joint, 
        left_steering_hinge_joint
      </jointName>
      <updateRate>50.0</updateRate>
      <robotNamespace>/racecar</robotNamespace>
      <alwaysOn>true</alwaysOn>
    </plugin>
  </gazebo>
  <!-- Gazebo Plugins -->
</robot>
